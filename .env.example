# ==============================================================================
# ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Environment: development, staging, production
ENVIRONMENT=development
DEBUG=true

# ==============================================================================
# DIFY CONFIGURATION
# ==============================================================================
# Your Dify API endpoint
DIFY_API_URL=https://quotebot.tablazat.hu/v1

# Your Dify API Key (get from Dify dashboard)
DIFY_API_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxxxx

# Timeout for Dify API calls (seconds)
DIFY_TIMEOUT=30

# ==============================================================================
# TABLAZAT.HU CONFIGURATION
# ==============================================================================
# The endpoint where we send final results
TABLAZAT_CALLBACK_URL=https://tablazat.hu/api/quotebot/result

# Timeout for callback requests (seconds)
TABLAZAT_CALLBACK_TIMEOUT=10

# How many times to retry failed callbacks
TABLAZAT_CALLBACK_MAX_RETRIES=3

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Maximum connections in the pool
REDIS_MAX_CONNECTIONS=50

# Connection timeout (seconds)
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Keep connections alive
REDIS_SOCKET_KEEPALIVE=true

# ==============================================================================
# POSTGRESQL CONFIGURATION
# ==============================================================================
# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/quotebot

# Connection pool size
DATABASE_POOL_SIZE=20

# Maximum overflow connections
DATABASE_MAX_OVERFLOW=10

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
# Allowed origins (comma-separated for multiple)
CORS_ORIGINS=["https://tablazat.hu","http://localhost:3000","http://localhost:8080"]

# ==============================================================================
# CONVERSATION SETTINGS
# ==============================================================================
# How long to keep conversations in Redis (seconds)
# 86400 = 24 hours
CONVERSATION_TTL=86400

# Maximum messages to store per conversation
MAX_CONVERSATION_MESSAGES=100

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# Maximum requests per minute per session
RATE_LIMIT_PER_MINUTE=60

# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# ==============================================================================
# CONVERSATION COMPLETION DETECTION
# ==============================================================================
# Keywords that indicate conversation is complete (comma-separated)
COMPLETION_KEYWORDS=["thank you for providing all the information","we'll send you a quote","our team will contact you","conversation complete","ajánlatot küldünk"]

# Required fields that must be collected (comma-separated)
REQUIRED_FIELDS=["customer_name","customer_email","product_type"]

# ==============================================================================
# LOGGING
# ==============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (production) or text (development)
LOG_FORMAT=text

# ==============================================================================
# MONITORING (OPTIONAL)
# ==============================================================================
# Sentry DSN for error tracking (leave empty to disable)
SENTRY_DSN=