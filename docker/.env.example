# ==============================================================================
# DOCKER DEPLOYMENT CONFIGURATION
# ==============================================================================
# Copy this file to ../.env (project root) for Docker deployment
# Command: cp docker/.env.example ../.env

# ==============================================================================
# CRITICAL: CHANGE THESE!
# ==============================================================================

# Generate strong passwords with: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD_NOW
REDIS_PASSWORD=CHANGE_THIS_PASSWORD_NOW

# Get from your Dify dashboard
DIFY_API_KEY=CHANGE_THIS_TO_YOUR_DIFY_KEY

# Your callback endpoint
TABLAZAT_CALLBACK_URL=https://tablazat.hu/api/quotebot/result

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==============================================================================
# DIFY CONFIGURATION
# ==============================================================================
DIFY_API_URL=https://quotebot.tablazat.hu/v1
DIFY_TIMEOUT=30

# ==============================================================================
# TABLAZAT.HU CONFIGURATION
# ==============================================================================
TABLAZAT_CALLBACK_TIMEOUT=10
TABLAZAT_CALLBACK_MAX_RETRIES=3

# ==============================================================================
# DATABASE CONFIGURATION (DOCKER)
# ==============================================================================
# These are overridden by docker-compose.yml for internal networking
# Just set the credentials
POSTGRES_USER=quotebot
POSTGRES_DB=quotebot
POSTGRES_PORT=5433

# Connection pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ==============================================================================
# REDIS CONFIGURATION (DOCKER)
# ==============================================================================
# Password set above, port mapping:
REDIS_PORT=6380
REDIS_MAX_CONNECTIONS=50

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================

# CORS
CORS_ORIGINS=["https://tablazat.hu"]

# Conversations
CONVERSATION_TTL=86400
MAX_CONVERSATION_MESSAGES=100

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_ENABLED=true

# Completion Detection
COMPLETION_KEYWORDS=["thank you for providing all the information","we'll send you a quote","our team will contact you","conversation complete"]
REQUIRED_FIELDS=["customer_name","customer_email","product_type"]

# ==============================================================================
# MONITORING (OPTIONAL)
# ==============================================================================
SENTRY_DSN=