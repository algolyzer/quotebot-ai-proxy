# Docker Environment Configuration
# This file should be in the docker/ directory

# PostgreSQL
POSTGRES_USER=quotebot
POSTGRES_PASSWORD=quotebot123
POSTGRES_DB=quotebot
POSTGRES_PORT=5433

# Redis
REDIS_PASSWORD=redis123
REDIS_PORT=6380

# Dify Configuration (IMPORTANT: Add your real API key)
DIFY_API_KEY=app-your-dify-api-key-here
DIFY_API_URL=https://quotebot.tablazat.hu/v1
DIFY_TIMEOUT=30

# Tablazat.hu Configuration
TABLAZAT_CALLBACK_URL=https://tablazat.hu/api/quotebot/result
TABLAZAT_CALLBACK_TIMEOUT=10
TABLAZAT_CALLBACK_MAX_RETRIES=3

# Application Settings
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=json

API_KEY=api-key
# Connection pool (optional; app may read these)
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
REDIS_MAX_CONNECTIONS=50

# CORS
CORS_ORIGINS=["https://tablazat.hu","http://localhost:3000","http://localhost:8080"]

# Conversation Settings
CONVERSATION_TTL=86400
MAX_CONVERSATION_MESSAGES=100

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_ENABLED=true

# Completion Detection
COMPLETION_KEYWORDS=["thank you for providing all the information","we'll send you a quote","our team will contact you","conversation complete"]
REQUIRED_FIELDS=["customer_name","customer_email","product_type"]

# Monitoring (Optional)
SENTRY_DSN=

# -----------------------------------------------------------------------------
# NOTE:
# DATABASE_URL and REDIS_URL are intentionally NOT set here.
# docker-compose constructs them from POSTGRES_* and REDIS_* to avoid drift.
# For running the app OUTSIDE Docker, you can provide them manually, e.g.:
# DATABASE_URL=postgresql://quotebot:quotebot123@localhost:5433/quotebot
# REDIS_URL=redis://:redis123@localhost:6380/0
# -----------------------------------------------------------------------------

# APP Port
APP_PORT=8000
APP_HOST=127.0.0.1
DOMAIN_NAME=quotebot-api.tablazat.hu